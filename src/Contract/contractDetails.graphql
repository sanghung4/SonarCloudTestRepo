fragment contractDetails on ContractDetails {
  contractNumber
  contractDescription
  jobName
  purchaseOrderNumber
  accountInformation {
    ...accountInformation
  }
  contractDates {
    ...contractDates
  }
  customerInfo {
    ...customerInfo
  }
  contractSummary {
    ...contractSummary
  }
  contractProducts {
    ...contractProduct
  }
}

fragment accountInformation on AccountInformation {
  shipToAddress {
    ...contractAddress
  }
  branch {
    ...contractAddress
  }
}

fragment contractAddress on ContractAddress {
  entityId
  branchNumber
  address1
  address2
  address3
  city
  state
  zip
  county
  country
  taxJurisdiction
}

fragment contractSummary on ContractSummary {
  subTotal
  taxAmount
  otherCharges
  invoicedToDateAmount
  totalAmount
  firstShipmentDate
  lastShipmentDate
}

fragment contractDates on ContractDates {
  promisedDate
  contractDate
  firstReleaseDate
  lastReleaseDate
}

fragment customerInfo on CustomerInfo {
  customerNumber
  jobNumber
  enteredBy
}

fragment contractProduct on ContractProduct {
  id
  brand
  name
  lineComments
  partNumber
  sequenceNumber
  mfr
  thumb
  netPrice
  unitPrice
  pricingUom
  qty {
    quantityOrdered
    quantityReleasedToDate
    quantityShipped
  }
  technicalDocuments {
    name
    url
  }
  techSpecifications {
    name
    value
  }
  displayOnly
}

query GetContractDetails($contractNumber: String!, $erpAccountId: String!) {
  contract(contractNumber: $contractNumber, erpAccountId: $erpAccountId) {
    ...contractDetails
  }
}
